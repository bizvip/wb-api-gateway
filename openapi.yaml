# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.0
info:
    title: WT API Docs
    description: WT 接口文档
    contact:
        name: Archer++
        url: https://orcid.org/0009-0003-8150-367X
    version: 1.0.0
servers:
    - url: http://127.0.0.1:8088
      description: 本地调试服务器
    - url: http://127.0.0.1:8088
      description: 测试文档服务器
paths:
    /v1/user/accounts:
        post:
            tags:
                - Account
            summary: 注册账户
            description: 为新用户注册一个账户
            operationId: Account_RegisterAccount
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/api.http.v1.RegisterAccountRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
    /v1/user/accounts/{uid}:
        get:
            tags:
                - Account
            summary: 读取账户
            description: 获取指定用户ID的账户信息
            operationId: Account_GetAccount
            parameters:
                - name: uid
                  in: path
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
        put:
            tags:
                - Account
            summary: 更新账户
            description: 更新用户的账户信息
            operationId: Account_UpdateAccount
            parameters:
                - name: uid
                  in: path
                  description: 用户 ID，必须为大于 0 的正整数
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/api.http.v1.UpdateAccountRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
    /v1/user/addresses:
        get:
            tags:
                - Addresses
            summary: 获取地址簿列表
            description: 获取用户的所有地址簿条目
            operationId: Addresses_ListAddresses
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
        post:
            tags:
                - Addresses
            summary: 添加地址
            description: 为用户添加新的地址簿条目
            operationId: Addresses_AddAddress
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/api.http.v1.AddAddressRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
    /v1/user/addresses/{id}:
        get:
            tags:
                - Addresses
            summary: 获取单条地址
            description: 获取用户的单条地址簿条目
            operationId: Addresses_GetAddress
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
        put:
            tags:
                - Addresses
            summary: 更新地址
            description: 更新用户的地址簿条目
            operationId: Addresses_UpdateAddress
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/api.http.v1.UpdateAddressRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
        delete:
            tags:
                - Addresses
            summary: 删除地址
            description: 删除用户的地址簿条目
            operationId: Addresses_DeleteAddress
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
    /v1/user/receiving-methods:
        get:
            tags:
                - ReceivingMethods
                - ReceivingMethods
            summary: 获取收款方式列表
            description: 获取用户的所有收款方式列表
            operationId: ReceivingMethods_ListReceivingMethods
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
        post:
            tags:
                - ReceivingMethods
                - ReceivingMethods
            summary: 添加收款方式
            description: 为用户添加新的收款方式
            operationId: ReceivingMethods_AddReceivingMethod
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/api.http.v1.AddReceivingMethodRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
    /v1/user/receiving-methods/{id}:
        get:
            tags:
                - ReceivingMethods
                - ReceivingMethods
            summary: 获取单个收款方式
            description: 获取指定ID的收款方式
            operationId: ReceivingMethods_GetReceivingMethod
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
        put:
            tags:
                - ReceivingMethods
                - ReceivingMethods
            summary: 更新收款方式
            description: 更新用户的收款方式信息
            operationId: ReceivingMethods_UpdateReceivingMethod
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/api.http.v1.UpdateReceivingMethodRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
        delete:
            tags:
                - ReceivingMethods
                - ReceivingMethods
            summary: 删除收款方式
            description: 删除用户的收款方式
            operationId: ReceivingMethods_DeleteReceivingMethod
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                    type: string
                - name: uid
                  in: query
                  schema:
                    type: string
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/api.http.v1.Reply'
components:
    schemas:
        api.http.v1.AddAddressRequest:
            type: object
            properties:
                coinName:
                    type: string
                address:
                    type: string
                remark:
                    type: string
        api.http.v1.AddReceivingMethodRequest:
            type: object
            properties:
                uid:
                    type: string
                method:
                    type: string
                realName:
                    type: string
                cardNo:
                    type: string
                openBank:
                    type: string
                bankBranch:
                    type: string
                nickname:
                    type: string
                qrcodeUrl:
                    type: string
                eCnyNo:
                    type: string
        api.http.v1.RegisterAccountRequest:
            type: object
            properties:
                usr:
                    type: string
                    description: 用户名，长度必须在 6 到 32 个字符之间，不允许包含空格
                pwd:
                    type: string
                    description: 密码，长度必须在 60 到 100 个字符之间，不允许包含空格
                lang:
                    type: string
                    description: 语言代码，必须为小写字母的 ISO 639-1 语言代码
                deviceId:
                    type: string
                    description: 设备 ID，必须仅包含大小写字母、数字和下划线
                timeZone:
                    type: string
                    description: 时区，必须为合法的时区格式，例如 "Asia/Shanghai"
                currency:
                    type: string
                    description: 货币代码，必须为指定的合法货币代码，且必须为大写
        api.http.v1.Reply:
            type: object
            properties:
                code:
                    type: integer
                    format: uint32
                msg:
                    type: string
                data:
                    $ref: '#/components/schemas/google.protobuf.Any'
            description: 通用返回消息
        api.http.v1.UpdateAccountRequest:
            type: object
            properties:
                uid:
                    type: string
                    description: 用户 ID，必须为大于 0 的正整数
                lang:
                    type: string
                    description: 语言代码，必须为小写字母的 ISO 639-1 语言代码
                currency:
                    type: string
                    description: 货币代码，必须为指定的合法货币代码，服务端将强制统一转换为大写
                secPwd:
                    type: string
                    description: 安全密码，长度必须在 60 到 100 个字符之间，不允许包含空格
        api.http.v1.UpdateAddressRequest:
            type: object
            properties:
                id:
                    type: string
                coinName:
                    type: string
                address:
                    type: string
                remark:
                    type: string
        api.http.v1.UpdateReceivingMethodRequest:
            type: object
            properties:
                id:
                    type: string
                uid:
                    type: string
                method:
                    type: string
                realName:
                    type: string
                cardNo:
                    type: string
                openBank:
                    type: string
                bankBranch:
                    type: string
                nickname:
                    type: string
                qrcodeUrl:
                    type: string
                eCnyNo:
                    type: string
        google.protobuf.Any:
            type: object
            properties:
                '@type':
                    type: string
                    description: The type of the serialized message.
            additionalProperties: true
            description: Contains an arbitrary serialized message along with a @type that describes the type of the serialized message.
tags:
    - name: Account
      description: 用户账户
    - name: Addresses
      description: 地址簿
    - name: ReceivingMethods
      description: 收款方式
